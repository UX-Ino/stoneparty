<!DOCTYPE html>
<html lang="ko">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="format-detection" content="telephone=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
  <meta charset="utf-8" />
  <title>프로젝트타이틀</title>
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta property="og:title" content="" />
  <meta property="og:url" content="" />
  <meta property="og:image" content="" />
  <meta property="og:description" content="" />
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
  <link href="./assets/styles/style.css" type="text/css" rel="stylesheet" />
  <!-- 기존 스크립트들 -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="./assets/scripts/common.ui.plugin.js" data-init></script>
  <script src="./assets/scripts/common.ui.js" data-init></script>
  <script src="./assets/scripts/common.js"></script>
  <!-- <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=937a6e2254897fcfacb4449b6fbe0fc1&libraries=services"></script> -->
  <!-- <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=937a6e2254897fcfacb4449b6fbe0fc1&libraries=services"></script> -->
  <script type="text/javascript">
    ! function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s);
      js.id = id;
      js.src = "https://developers.kakao.com/sdk/js/kakao.min.js";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'kakao-js-sdk');

  </script>
</head>

<body>
  <div id="wrap">
    <div class="loading-wrap" style="display: none;">
      <div class="loding-txt">
        <span class="desc">석현이의</span>
        <span class="desc">첫 번째 생일에</span>
        <span class="desc">초대합니다</span>
      </div>
    </div>
    <div class="pageClassMain uxg-page-container-main" id="container">
      <div id="content" role="main">
        <div class="main-wrap">
          <div class="top-img-wrap">
            <div class="badge">
              <img src="./assets/images/first-birthday.webp" alt="" />
            </div>
            <div class="photo">
              <img src="./assets/images/img-main-top.png" alt="" />
            </div>
            <div class="point">
              <img src="./assets/images/img-ribbon.png" alt="" />
            </div>
          </div>
          <div class="info-wrap">
            <div class="name"> 정석현 </div>
            <div class="parent">
              <div class="dad"><span>Dad</span>정인호</div>
              <div class="mon"><span>Mom</span>박선미</div>
            </div>
            <div class="date">3월 16일 일요일 오후 3시</div>
            <div class="palce">플로렌스파티하우스 보라매점 29층</div>
          </div>
          <div class="bg-area">
            <div class="bg-item01">
              <img src="./assets/images/img-animal01.webp" alt="" />
            </div>
            <div class="bg-item02">
              <img src="./assets/images/img-animal02.webp" alt="" />
            </div>
          </div>
        </div>
        <div class="contents-layer-wrap">
          <div class="txt-wrap">
            <div class="tit">석현이의 첫 생일에 초대합니다</div>
            <div class="txt"> 석현이가 태어나 밝고 건강하게 자라 나도록 함께 해주신 여러분들께 감사의 마음을 담아 작은 자리를 마련 했습니다. 바쁘시겠지만 부디 참석해 주시어 석현이의 첫 생일을 축하해 주세요. </div>
          </div>
          <button type="button" class="btn-call btn-modal01" data-testid="btn-modal01">연락하기</button>
        </div>
        <div class="contents-layer-wrap">
          <div class="parent-wrap">
            <div class="img">
              <img src="./assets/images/parent-01.jpeg" alt="" />
            </div>
            <div class="dad-box">
              <!-- <div class="img">
                </div> -->
              <div class="txt">
                <span>아빠</span> 정인호
              </div>
              <div class="txt"> 석현이가 씩씩하고 <br> 현명한 아이가 되도록 <br> 항상 옆에서 응원하는 <br> 아빠가 되겠습니다. </div>
            </div>
            <div class="mom-box">
              <!-- <div class="img">
                </div> -->
              <div class="txt">
                <span>엄마</span> 박선미
              </div>
              <div class="txt"> 석현이가 행복한 아이로 <br> 자랄 수 있도록 <br> 축복해주신 모든 분들 <br> 감사합니다 💕 </div>
            </div>
          </div>
        </div>
        <div class="contents-layer-wrap">
          <div class="calendar-wrap">
            <div class="tit">행사일</div>
            <div class="calendar-img">
              <img src="./assets/images/img-main-top.png" alt="" />
            </div>
            <div class="txt">2025년 3월 16일 일요일 오후 3시 </div>
            <div class="calendar">
              <span class="day">Mo</span>
              <span class="day">Tu</span>
              <span class="day">We</span>
              <span class="day">Th</span>
              <span class="day">Fr</span>
              <span class="day">Sa</span>
              <span class="day">Su</span>
              <span class="date faded"></span>
              <span class="date faded"></span>
              <span class="date faded"></span>
              <span class="date faded"></span>
              <span class="date faded"></span>
              <span class="date faded"></span>
              <span class="date">1</span>
              <span class="date">2</span>
              <span class="date">3</span>
              <span class="date">4</span>
              <span class="date">5</span>
              <span class="date">6</span>
              <span class="date">7</span>
              <span class="date">8</span>
              <span class="date ">9</span>
              <span class="date">10</span>
              <span class="date">11</span>
              <span class="date">12</span>
              <span class="date">13</span>
              <span class="date">14</span>
              <span class="date">15</span>
              <span class="date current-day">16</span>
              <span class="date">17</span>
              <span class="date">18</span>
              <span class="date ">19</span>
              <span class="date">20</span>
              <span class="date">21</span>
              <span class="date">22</span>
              <span class="date">23</span>
              <span class="date">24</span>
              <span class="date">25</span>
              <span class="date">26</span>
              <span class="date">27</span>
              <span class="date">28</span>
              <span class="date">29</span>
              <span class="date">30</span>
              <span class="date">31</span>
              <span class="date faded"></span>
              <span class="date faded"></span>
              <span class="date faded"></span>
              <span class="date faded"></span>
              <span class="date faded"></span>
            </div>
          </div>
          <div class="dday-wrap">
            <div class="dday-box">
              <div class="days">
                <span class="num">00</span>
                <span class="tit">Days</span>
              </div>
              <div class="hours">
                <span class="num">00</span>
                <span class="tit">Hours</span>
              </div>
              <div class="minutes">
                <span class="num">00</span>
                <span class="tit">minutes</span>
              </div>
              <div class="seconds">
                <span class="num">00</span>
                <span class="tit">seconds</span>
              </div>
            </div>
            <div class="dday-desc">석현이의 첫번째 생일이 <span class="count">00일</span> 남았습니다.</div>
          </div>
        </div>
        <div class="contents-layer-wrap">
          <div class="tit-group">
            <div class="tit">오시는 길</div>
            <div class="txt">서울 동작구 보라매로5길 15 전문건설회관 29층 플로렌스 보라매점</div>
          </div>
          <div class="map-wrap">
            <div class="map">
              <!-- * 카카오맵 - 지도퍼가기 -->
              <!-- 1. 지도 노드 -->
              <div id="daumRoughmapContainer1739119826020" class="root_daum_roughmap root_daum_roughmap_landing"></div>
              <!--
                  2. 설치 스크립트
                  * 지도 퍼가기 서비스를 2개 이상 넣을 경우, 설치 스크립트는 하나만 삽입합니다.
                -->
              <script charset="UTF-8" class="daum_roughmap_loader_script" src="https://ssl.daumcdn.net/dmaps/map_js_init/roughmapLoader.js"></script>
              <!-- 3. 실행 스크립트 -->
              <script charset="UTF-8">
                new daum.roughmap.Lander({
                  "timestamp": "1739119826020",
                  "key": "2myu3"
                }).render();

              </script>
            </div>
            <div class="btn-box">
              <button class="btn btn-naver">
                <i class="ico ico-naver"></i>
                <span>네이버지도</span>
              </button>
              <button class="btn btn-kakao">
                <i class="ico ico-kakao"></i>
                <span>카카오네비</span>
              </button>
            </div>
            <div class="info-txt">
              <div class="tit">지하철</div>
              <div class="txt"><em>신림</em> 보라매병원역 2번 출구에서 26m</div>
            </div>
          </div>
        </div>
        <div class="contents-layer-wrap">
          <div class="tit">갤러리</div>
          <div class="gallery-wrap ">
            <div class="component-swiper" data-component="swiper" data-props-initial-slide="1" data-props-navigation="false" data-props-pagination="true" data-props-autoplay="false" data-props-slides-per-view="3" data-props-slides-per-group="3" data-props-speed="700" data-props-space-between="8" data-props-loop="false">
              <div class="swiper-wrapper">
                <div class="swiper-slide">
                  <button type="button"><img src="./assets/images/gallery-01-01.jpeg" alt="" /></button>
                </div>
                <div class="swiper-slide">
                  <button type="button"><img src="./assets/images/gallery-01-02.jpeg" alt="" /></button>
                </div>
                <div class="swiper-slide">
                  <button type="button"><img src="./assets/images/gallery-01-03.jpeg" alt="" /></button>
                </div>
                <div class="swiper-slide">
                  <button type="button"><img src="./assets/images/gallery-01-04.jpeg" alt="" /></button>
                </div>
                <div class="swiper-slide">
                  <button type="button"><img src="./assets/images/gallery-01-05.jpeg" alt="" /></button>
                </div>
                <div class="swiper-slide">
                  <button type="button"><img src="./assets/images/gallery-01-06.jpeg" alt="" /></button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="contents-layer-wrap">
          <div class="tit">석현이의 성장기록</div>
          <div class="gallery-wrap type02">
            <div class="component-swiper" data-component="swiper" data-props-initial-slide="1" data-props-navigation="false" data-props-pagination="true" data-props-autoplay="false" data-props-slides-per-view="1" data-props-speed="700" data-props-space-between="8">
              <div class="swiper-wrapper">
                <div class="swiper-slide">
                  <div class="img-box">
                    <div class="img">
                      <img src="./assets/images/img-main-top.png" alt="" />
                    </div>
                    <div class="txt-box">
                      <div class="date">2024.03.19</div>
                      <div class="desc">석현이 탄신일</div>
                    </div>
                  </div>
                </div>
                <div class="swiper-slide">
                  <div class="img-box">
                    <div class="img">
                      <img src="./assets/images/img-main-top.png" alt="" />
                    </div>
                    <div class="txt-box">
                      <div class="date">2024.03.19</div>
                      <div class="desc">석현이 탄신일</div>
                    </div>
                  </div>
                </div>
                <div class="swiper-slide">
                  <div class="img-box">
                    <div class="img">
                      <img src="./assets/images/img-main-top.png" alt="" />
                    </div>
                    <div class="txt-box">
                      <div class="date">2024.03.19</div>
                      <div class="desc">석현이 탄신일</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="contents-layer-wrap">
          <div class="tit">마음 전하실 곳</div>
          <div class="component-accordion" data-orientation="vertical">
            <div class="accordion-item" data-state="open" data-type="multiple">
              <button type="button" class="accordion-tit">계좌번호</button>
              <div class="accordion-content">
                <div class="bank-account-wrap">
                  <div class="flex-box">
                    <div class="txt">주인공</div>
                    <div class="txt">정석현</div>
                    <button type="button" class="btn btn-kakaopay">
                      <span>송금하기</span>
                      <i class="ico ico-kakaopay"></i>
                    </button>
                  </div>
                  <div class="flex-box">
                    <div class="txt">MG새마을금고</div>
                    <div class="txt account-num">9003-2929-3475-7</div>
                    <button type="button" class="btn btn-copy">
                      <span>복사</span>
                      <i class="ico ico-copy"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="contents-layer-wrap">
          <div class="tit">축하인사 전하기</div>
          <div class="messages-wrap">
            <div class="messages-box">
              <div class="top">
                <span class="name">홍길동</span>
                <span class="time">0000.00.00 00:00</span>
                <button type="button" class="btn-del">
                  <span class="hide-txt">삭제</span>
                  <i class="ico ico-del"></i>
                </button>
              </div>
              <div class="bottom"> 축하인사 타임~~~~ </div>
            </div>
            <div class="messages-box">
              <div class="top">
                <span class="name">홍길동</span>
                <span class="time">0000.00.00 00:00</span>
                <button type="button" class="btn-del">
                  <span class="hide-txt">삭제</span>
                  <i class="ico ico-del"></i>
                </button>
              </div>
              <div class="bottom"> 축하인사 타임~~~~ </div>
            </div>
            <div class="messages-box">
              <div class="top">
                <span class="name">홍길동</span>
                <span class="time">0000.00.00 00:00</span>
                <button type="button" class="btn-del">
                  <span class="hide-txt">삭제</span>
                  <i class="ico ico-del"></i>
                </button>
              </div>
              <div class="bottom"> 축하인사 타임~~~~ </div>
            </div>
          </div>
          <div class="messages-btn-box">
            <button type="button" class="btn-messages">작성하기</button>
          </div>
        </div>
        <div class="contents-layer-wrap">
          <div class="share-wrap">
            <button type="button" class="btn-kakaoshare">
              <i class="ico ico-kakao"></i>
              <span>카카오톡 공유하기</span>
            </button>
            <button type="button" class="btn-link">
              <i class="ico ico-link"></i>
              <span>링크 복사하기</span>
            </button>
          </div>
          <div class="tit02">IH ❤️ SM</div>
          <div class="copyright">Copyright(C) seokhyeon. All Rights Reserved. </div>
        </div>
      </div>
    </div>
  </div>
  <div class="layer-wrap">
    <!-- 연락하기 -->
    <div class="component-modal modal01">
      <div class="modal-dimm"></div>
      <div class="modal-frame">
        <div class="modal-container">
          <div class="modal-header">
            <h3 class="modal-tit">연락하기</h3>
          </div>
          <div class="modal-content">
            <div class="phone-box">
              <span class="phone-tit">아빠 정인호</span>
              <a href="tel: 01076684200" class="btn-tel">
                <i class="ico ico-tel"></i>
              </a>
              <!-- <button type="button" class="btn-message">
                  <i class="ico ico-message"></i>
                </button> -->
            </div>
            <div class="phone-box">
              <span class="phone-tit">엄마 박선미</span>
              <a href="tel: 01057301066" class="btn-tel">
                <i class="ico ico-tel"></i>
              </a>
              <!-- <button type="button" class="btn-message">
                  <i class="ico ico-message"></i>
                </button> -->
            </div>
          </div>
          <button class="modal-close btn"></button>
        </div>
      </div>
    </div>
    <!-- //연락하기 -->
    <!-- 방명록 -->
    <div class="component-modal modal02">
      <div class="modal-dimm"></div>
      <div class="modal-frame">
        <div class="modal-container">
          <div class="modal-header">
            <h3 class="modal-tit">방명록 작성</h3>
          </div>
          <div class="modal-content">
            <form class="comment-form">
              <div class="component-input">
                <div class="input-field">
                  <input class="input" type="text" id="author" placeholder="작성자" required>
                  <button type="button" class="input-field-btn clear">
                    <span class="hide-txt">내용 지우기</span>
                    <i class="ico-clear ico-normal" aria-hidden="true"></i>
                  </button>
                </div>
              </div>
              <div class="component-input">
                <div class="input-field">
                  <input class="input" type="password" id="password" placeholder="비밀번호" required>
                  <button type="button" class="input-field-btn clear">
                    <span class="hide-txt">내용 지우기</span>
                    <i class="ico-clear ico-normal" aria-hidden="true"></i>
                  </button>
                  <button type="button" class="input-field-btn password-state">
                    <span class="hide-txt hide">비밀번호 숨기기</span>
                    <span class="hide-txt show">비밀번호 표시</span>
                    <i class="ico-password-state ico-normal" aria-hidden="true"></i>
                  </button>
                </div>
              </div>
              <div class="component-input">
                <div class="input-textarea-field">
                  <textarea id="comment" class="textarea" placeholder="내용을 입력해주세요." required></textarea>
                </div>
              </div>
              <button type="submit" class="btn-submit" disabled>저장</button>
            </form>
          </div>
          <button class="modal-close btn"></button>
        </div>
      </div>
    </div>
    <!-- //방명록 -->
  </div>
  <div class="dimm"></div>
  <script>
    window.onload = function() {
      // // 진입 이벤트
      const loadingWrap = document.querySelector('.loading-wrap');
      const pageClassMain = document.querySelector('.pageClassMain');
      // Show loading screen
      loadingWrap.style.display = 'block';
      loadingWrap.style.opacity = '1';
      pageClassMain.style.display = 'none';
      // Initialize loading sequence
      const LOADING_DURATION = 2500;
      const FADE_DURATION = 1000;
      setTimeout(() => {
        loadingWrap.style.opacity = '0';
        loadingWrap.style.transition = `opacity ${FADE_DURATION}ms ease-out`;
        setTimeout(() => {
          loadingWrap.style.display = 'none';
          pageClassMain.style.display = 'block';
          requestAnimationFrame(() => {
            pageClassMain.classList.add('show');
          });
        }, FADE_DURATION);
      }, LOADING_DURATION);
      // 디데이 카운트
      var countDownDate = new Date("Mar 16, 2025 15:00:00").getTime();
      // Update the count down every 1 second
      var x = setInterval(function() {
        // Get today's date and time
        var now = new Date().getTime();
        // Find the distance between now and the count down date
        var distance = countDownDate - now;
        // Time calculations for days, hours, minutes and seconds
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);
        document.querySelector('.days .num').innerHTML = days;
        document.querySelector('.hours .num').innerHTML = hours;
        document.querySelector('.minutes .num').innerHTML = minutes;
        document.querySelector('.seconds .num').innerHTML = seconds;
        document.querySelector('.dday-desc .count').innerHTML = days + "일";
        if (distance < 0) {
          clearInterval(x);
          document.getElementById("demo").innerHTML = "EXPIRED";
        }
      }, 1000);
    };

  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // 연락하기 모달
      const $btnModal01 = document.querySelector('.btn-modal01');
      const modal01 = document.querySelector('.modal01').ui;
      $btnModal01.addEventListener('click', function() {
        modal01.open();
      });
      // 방명록 모달
      const $btnModal02 = document.querySelector('.btn-messages');
      const modal02 = document.querySelector('.modal02').ui;
      $btnModal02.addEventListener('click', function() {
        modal02.open();
        setTimeout(() => {
          document.querySelector('.modal02').ui.open();
        }, 1000)
      });
      // input clear
      const inputClearBtn = document.querySelectorAll('.input-field-btn.clear');
      inputClearBtn.forEach((e) => {
        const $input = e.closest('.input-field').querySelector('input')
        e.addEventListener('click', () => {
          $input.value = '';
        })
      })
      // passworld
      const inputPassBtn = document.querySelectorAll('.password-state');
      inputPassBtn.forEach((e) => {
        const $input = e.closest('.input-field').querySelector('input')
        e.addEventListener('click', () => {
          console.log(e.classList)
          if ($input.type === "password") {
            e.classList.add("show")
            $input.type = "text";
          } else {
            e.classList.remove("show")
            $input.type = "password";
          }
        })
      })
      // 입력시 버튼 활성화
      const inputFields = document.querySelectorAll(".modal02 input, .modal02 textarea");
      const submitButton = document.querySelector(".modal02 .btn-submit");

      function checkInputs() {
        const allFilled = Array.from(inputFields).every(input => input.value && input.value.trim() !== "");
        submitButton.disabled = !allFilled;
        if (allFilled) {
          submitButton.addEventListener('click', closeModal);
        } else {
          submitButton.removeEventListener('click', closeModal);
        }
      }

      function closeModal() {
        modal02.close();
        resetInputs();
      }

      function resetInputs() {
        inputFields.forEach(input => input.value = ""); // 모든 입력 필드 초기화
        submitButton.disabled = true; // 버튼 비활성화
      }
      inputFields.forEach(input => {
        input.addEventListener("input", checkInputs);
        input.addEventListener("blur", checkInputs); // 입력 필드 포커스 해제 시도 체크
      });
      inputClearBtn.forEach((button, index) => {
        button.addEventListener("click", function() {
          inputFields[index].value = ""; // 해당 인덱스의 input 값 지우기
          checkInputs(); // 버튼 활성화 여부 다시 체크
        });
      });
      // 디데이 카운트
      var countDownDate = new Date("Mar 16, 2025 15:00:00").getTime();
      // Update the count down every 1 second
      var x = setInterval(function() {
        // Get today's date and time
        var now = new Date().getTime();
        // Find the distance between now and the count down date
        var distance = countDownDate - now;
        // Time calculations for days, hours, minutes and seconds
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);
        // Output the result in an element with id="demo"
        // document.getElementById("demo").innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";
        document.querySelector('.days .num').innerHTML = days;
        document.querySelector('.hours .num').innerHTML = hours;
        document.querySelector('.minutes .num').innerHTML = minutes;
        document.querySelector('.seconds .num').innerHTML = seconds;
        document.querySelector('.dday-desc .count').innerHTML = days + "일";
        // If the count down is over, write some text
        if (distance < 0) {
          clearInterval(x);
          document.getElementById("demo").innerHTML = "EXPIRED";
        }
      }, 1000);
      // 네이버 지도 연결
      document.querySelector(".btn-naver").addEventListener("click", function() {
        const placeName = "플로렌스 보라매점";
        const placeX = "14129145.4174025"; // 네이버 지도 X좌표
        const placeY = "4507911.5556359"; // 네이버 지도 Y좌표
        const placeId = "34882590"; // 장소 ID
        // 현재 위치 가져오기
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            // 위경도를 네이버 지도 좌표로 변환
            const currentX = position.coords.longitude * 111319.49079327357;
            const currentY = Math.log(Math.tan((90 + position.coords.latitude) * Math.PI / 360)) / (Math.PI / 180) * 111319.49079327357;
            // 네이버 지도 URL 생성 (새로운 형식)
            const naverMapUrl = `https://map.naver.com/p/directions/` + `${currentX},${currentY},현재위치,,ADDRESS_POI/` + `${placeX},${placeY},${encodeURIComponent(placeName)},${placeId},PLACE_POI/-/walk?c=14.00,0,0,0,dh`;
            // 새 창에서 네이버 지도 열기
            window.open(naverMapUrl, "_blank");
          }, function(error) {
            // 위치 정보를 가져올 수 없는 경우
            console.error("위치 정보를 가져올 수 없습니다:", error);
            const searchUrl = `https://map.naver.com/p/search/${encodeURIComponent(placeName)}`;
            window.open(searchUrl, "_blank");
          });
        } else {
          // 지오로케이션을 지원하지 않는 브라우저의 경우
          console.log("이 브라우저에서는 위치 정보를 지원하지 않습니다.");
          const searchUrl = `https://map.naver.com/p/search/${encodeURIComponent(placeName)}`;
          window.open(searchUrl, "_blank");
        }
      });
      // 카카오 내비 연결
      document.querySelector(".btn-kakao").addEventListener("click", function() {
        const placeName = "플로렌스 보라매점";
        const destinationLat = "37.4967"; // 플로렌스 보라매점 위도
        const destinationLng = "126.9179"; // 플로렌스 보라매점 경도
        // 현재 위치 가져오기
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            const currentLat = position.coords.latitude;
            const currentLng = position.coords.longitude;
            // 모바일 기기 확인
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            if (isMobile) {
              // 모바일에서는 카카오내비 앱으로 연결
              const kakaoNaviUrl = `kakaonavi://navigate?ep=${destinationLat},${destinationLng}&by=CAR&ename=${encodeURIComponent(placeName)}`;
              // Universal Link를 사용한 딥링크
              const webKakaoNaviUrl = `https://map.kakao.com/link/to/${placeName},${destinationLat},${destinationLng}`;
              // 앱 실행 시도
              location.href = kakaoNaviUrl;
              // 앱이 없는 경우를 위한 타임아웃
              setTimeout(function() {
                if (confirm('카카오내비 앱이 설치되어 있지 않습니다. 설치하시겠습니까?')) {
                  if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                    location.href = 'https://itunes.apple.com/kr/app/kakaonavi/id417698849';
                  } else {
                    location.href = 'https://play.google.com/store/apps/details?id=com.locnall.KimGiSa';
                  }
                } else {
                  // 앱 설치를 원하지 않는 경우 웹 버전으로 연결
                  window.open(webKakaoNaviUrl, '_blank');
                }
              }, 1000);
            } else {
              // 데스크톱에서는 카카오맵 웹으로 연결
              const webKakaoMapUrl = `https://map.kakao.com/link/to/${placeName},${destinationLat},${destinationLng}`;
              window.open(webKakaoMapUrl, '_blank');
            }
          }, function(error) {
            console.error("위치 정보를 가져올 수 없습니다:", error);
            // 위치 정보 없이 목적지로만 이동
            const webKakaoMapUrl = `https://map.kakao.com/link/to/${placeName},${destinationLat},${destinationLng}`;
            window.open(webKakaoMapUrl, '_blank');
          });
        } else {
          // 위치 정보를 지원하지 않는 경우
          console.log("이 브라우저에서는 위치 정보를 지원하지 않습니다.");
          const webKakaoMapUrl = `https://map.kakao.com/link/to/${placeName},${destinationLat},${destinationLng}`;
          window.open(webKakaoMapUrl, '_blank');
        }
      });
      //카카오뱅크 송금하기
      document.querySelector(".btn-kakaopay").addEventListener("click", function() {
        // 카카오뱅크 송금 실행 (스키마 URL 활용)
        const kakaoBankUrl = "kakaobank://transfer"; // 카카오뱅크 송금화면 호출
        window.location.href = kakaoBankUrl;
      });
      // 계좌번호 복사
      document.querySelector(".btn-copy").addEventListener("click", function() {
        const accountNumber = document.querySelector(".account-num").textContent;
        if (navigator.clipboard) {
          navigator.clipboard.writeText(accountNumber).then(function() {
            alert('계좌번호가 클립보드에 복사되었습니다.');
          }).catch(function(err) {
            console.error('복사 실패:', err);
          });
        } else {
          // Clipboard API를 지원하지 않는 경우
          var tempInput = document.createElement('input');
          tempInput.readOnly = true;
          tempInput.value = accountNumber;
          document.body.appendChild(tempInput);
          tempInput.select();
          document.execCommand('copy');
          document.body.removeChild(tempInput);
          alert('계좌번호가 클립보드에 복사되었습니다.');
        }
      });
      // 카카오톡으로 공유하기
      document.querySelector('.btn-kakaoshare').addEventListener('click', function() {
        Kakao.Share.sendDefault({
          objectType: 'feed',
          content: {
            title: '석현이의 돌잔치',
            description: '석현이의 첫 번째 돌잔치에 초대합니다. 많은 축하 부탁드립니다.',
            imageUrl: 'https://seokhyeonparty.netlify.app/assets/images/img-main-top.png', // 공유할 이미지 URL
            link: {
              mobileWebUrl: 'https://seokhyeonparty.netlify.app',
              webUrl: 'https://seokhyeonparty.netlify.app',
            },
          },
        });
      });
      // 링크 복사ㅌ
      document.querySelector('.btn-link').addEventListener('click', function() {
        const currentUrl = window.location.href; // 현재 페이지의 URL을 가져옵니다.
        if (navigator.clipboard) {
          navigator.clipboard.writeText(currentUrl).then(function() {
            alert('링크가 클립보드에 복사되었습니다.');
          }).catch(function(err) {
            console.error('링크 복사 실패:', err);
          });
        } else {
          // Clipboard API를 지원하지 않는 경우
          var tempInput2 = document.createElement('input');
          tempInput2.readOnly = true;
          tempInput2.value = currentUrl;
          document.body.appendChild(tempInput2);
          tempInput2.select();
          document.execCommand('copy');
          document.body.removeChild(tempInput2);
          alert('링크가 클립보드에 복사되었습니다.');
        }
      });
      // 스크롤 이벤트
      document.addEventListener('scroll', () => {
        const sections = document.querySelectorAll('.contents-layer-wrap');
        const scrollPosition = window.scrollY + window.innerHeight;
        sections.forEach(section => {
          if (section.offsetTop < scrollPosition) {
            section.classList.add('fade-in');
          } else {
            section.classList.remove('fade-in');
          }
        });
      });
    })

  </script>
  <script>
    // Supabase 클라이언트 설정
    const supabaseUrl = 'https://cnimbijddrxtbqkljwml.supabase.co';
    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNuaW1iaWpkZHJ4dGJxa2xqd21sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzg0MzA3OTQsImV4cCI6MjA1NDAwNjc5NH0.c2wSz6JvkAqW_k6Cui5ygvUPWu-NydXdZaAC1JVsMYI';
    const supabaseClient = supabase.createClient(supabaseUrl, supabaseKey);
    // 댓글 로드 함수
    async function loadComments() {
      try {
        const {
          data,
          error
        } = await supabaseClient.from('seokhyeonpartyDb').select('*').order('date', {
          ascending: false
        });
        if (error) throw error;
        const commentList = document.querySelector('.messages-wrap');
        if (!commentList) {
          console.error('댓글 목록 컨테이너를 찾을 수 없습니다');
          return;
        }
        if (!data || data.length === 0) {
          commentList.innerHTML = '<p>아직 댓글이 없습니다.</p>';
          return;
        }
        commentList.innerHTML = '';
        data.forEach(comment => {
          const div = document.createElement('div');
          div.innerHTML = `
              <div class="messages-box">
                <div class="top">
                  <span class="name">${comment.author}</span>
                  <span class="time">[${new Date(comment.date).toLocaleString()}]</span>
                </div>
                <div class="bottom">${comment.comment}</div>
              </div>
            `;
          commentList.appendChild(div);
        });
      } catch (error) {
        console.error('댓글 로딩 에러:', error);
      }
    }
    // 페이지 로드 시 실행
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.querySelector('.comment-form');
      const submitButton = form ? form.querySelector('.btn-submit') : null;
      if (form && submitButton) {
        // clear 버튼 이벤트
        form.querySelectorAll('.input-field-btn.clear').forEach(button => {
          button.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            const input = button.closest('.input-field').querySelector('.input, .textarea');
            if (input) {
              input.value = '';
              checkFormValidity();
            }
          });
        });
        // 비밀번호 토글 버튼 이벤트
        const passwordToggle = form.querySelector('.password-state');
        if (passwordToggle) {
          passwordToggle.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            const passwordInput = document.getElementById('password');
            if (passwordInput) {
              passwordInput.type = passwordInput.type === 'password' ? 'text' : 'password';
              passwordToggle.classList.toggle('active');
            }
          });
        }
        // 입력 필드 변경 감지
        function checkFormValidity() {
          const author = document.getElementById('author').value.trim();
          const password = document.getElementById('password').value.trim();
          const comment = document.getElementById('comment').value.trim();
          submitButton.disabled = !(author && password && comment);
        }
        form.querySelectorAll('input, textarea').forEach(input => {
          input.addEventListener('input', checkFormValidity);
        });
        // submit 버튼 이벤트
        submitButton.addEventListener('click', async (e) => {
          e.preventDefault();
          e.stopPropagation();
          if (!submitButton.disabled) {
            const author = document.getElementById('author').value.trim();
            const password = document.getElementById('password').value.trim();
            const comment = document.getElementById('comment').value.trim();
            try {
              const {
                error
              } = await supabaseClient.from('seokhyeonpartyDb').insert([{
                author,
                password,
                comment,
                date: new Date().toISOString()
              }]);
              if (error) throw error;
              alert('댓글이 작성되었습니다!');
              form.reset();
              submitButton.disabled = true;
              loadComments();
            } catch (error) {
              console.error('에러:', error);
              alert('댓글 작성 실패: ' + error.message);
            }
          }
        });
        // 초기 댓글 로드
        loadComments();
      }
    });

  </script>
</body>

</html>
